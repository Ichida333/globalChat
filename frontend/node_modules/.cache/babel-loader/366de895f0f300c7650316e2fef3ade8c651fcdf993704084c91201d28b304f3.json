{"ast":null,"code":"import{createSlice}from\"@reduxjs/toolkit\";import appApi from\"../services/appApi\";export var userSlice=createSlice({name:\"user\",initialState:null,reducers:{addNotifications:function addNotifications(state,_ref){var payload=_ref.payload;if(state.newMessages[payload]){state.newMessages[payload]=state.newMessages[payload]+1;}else{state.newMessages[payload]=1;}},resetNotifications:function resetNotifications(state,_ref2){var payload=_ref2.payload;delete state.newMessages[payload];}},extraReducers:function extraReducers(builder){// save user after signup\nbuilder.addMatcher(appApi.endpoints.signupUser.matchFulfilled,function(state,_ref3){var payload=_ref3.payload;return payload;});// save user after login\nbuilder.addMatcher(appApi.endpoints.loginUser.matchFulfilled,function(state,_ref4){var payload=_ref4.payload;return payload;});// logout: destroy user session\nbuilder.addMatcher(appApi.endpoints.logoutUser.matchFulfilled,function(){return null;});}});var _userSlice$actions=userSlice.actions,addNotifications=_userSlice$actions.addNotifications,resetNotifications=_userSlice$actions.resetNotifications;export{addNotifications,resetNotifications};export default userSlice.reducer;","map":{"version":3,"names":["createSlice","appApi","userSlice","name","initialState","reducers","addNotifications","state","_ref","payload","newMessages","resetNotifications","_ref2","extraReducers","builder","addMatcher","endpoints","signupUser","matchFulfilled","_ref3","loginUser","_ref4","logoutUser","_userSlice$actions","actions","reducer"],"sources":["/Users/ichidayu/globalChat/frontend/src/features/userSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\nimport appApi from \"../services/appApi\";\n\nexport const userSlice = createSlice({\n    name: \"user\",\n    initialState: null,\n    reducers: {\n        addNotifications: (state, { payload }) => {\n            if (state.newMessages[payload]) {\n                state.newMessages[payload] = state.newMessages[payload] + 1;\n            } else {\n                state.newMessages[payload] = 1;\n            }\n        },\n        resetNotifications: (state, { payload }) => {\n            delete state.newMessages[payload];\n        },\n    },\n\n    extraReducers: (builder) => {\n        // save user after signup\n        builder.addMatcher(appApi.endpoints.signupUser.matchFulfilled, (state, { payload }) => payload);\n        // save user after login\n        builder.addMatcher(appApi.endpoints.loginUser.matchFulfilled, (state, { payload }) => payload);\n        // logout: destroy user session\n        builder.addMatcher(appApi.endpoints.logoutUser.matchFulfilled, () => null);\n    },\n});\n\nexport const { addNotifications, resetNotifications } = userSlice.actions;\nexport default userSlice.reducer;\n"],"mappings":"AAAA,OAASA,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,MAAM,KAAM,oBAAoB,CAEvC,MAAO,IAAM,CAAAC,SAAS,CAAGF,WAAW,CAAC,CACjCG,IAAI,CAAE,MAAM,CACZC,YAAY,CAAE,IAAI,CAClBC,QAAQ,CAAE,CACNC,gBAAgB,CAAE,SAAAA,iBAACC,KAAK,CAAAC,IAAA,CAAkB,IAAd,CAAAC,OAAO,CAAAD,IAAA,CAAPC,OAAO,CAC/B,GAAIF,KAAK,CAACG,WAAW,CAACD,OAAO,CAAC,CAAE,CAC5BF,KAAK,CAACG,WAAW,CAACD,OAAO,CAAC,CAAGF,KAAK,CAACG,WAAW,CAACD,OAAO,CAAC,CAAG,CAAC,CAC/D,CAAC,IAAM,CACHF,KAAK,CAACG,WAAW,CAACD,OAAO,CAAC,CAAG,CAAC,CAClC,CACJ,CAAC,CACDE,kBAAkB,CAAE,SAAAA,mBAACJ,KAAK,CAAAK,KAAA,CAAkB,IAAd,CAAAH,OAAO,CAAAG,KAAA,CAAPH,OAAO,CACjC,MAAO,CAAAF,KAAK,CAACG,WAAW,CAACD,OAAO,CAAC,CACrC,CACJ,CAAC,CAEDI,aAAa,CAAE,SAAAA,cAACC,OAAO,CAAK,CACxB;AACAA,OAAO,CAACC,UAAU,CAACd,MAAM,CAACe,SAAS,CAACC,UAAU,CAACC,cAAc,CAAE,SAACX,KAAK,CAAAY,KAAA,KAAI,CAAAV,OAAO,CAAAU,KAAA,CAAPV,OAAO,OAAO,CAAAA,OAAO,GAAC,CAC/F;AACAK,OAAO,CAACC,UAAU,CAACd,MAAM,CAACe,SAAS,CAACI,SAAS,CAACF,cAAc,CAAE,SAACX,KAAK,CAAAc,KAAA,KAAI,CAAAZ,OAAO,CAAAY,KAAA,CAAPZ,OAAO,OAAO,CAAAA,OAAO,GAAC,CAC9F;AACAK,OAAO,CAACC,UAAU,CAACd,MAAM,CAACe,SAAS,CAACM,UAAU,CAACJ,cAAc,CAAE,iBAAM,KAAI,GAAC,CAC9E,CACJ,CAAC,CAAC,CAEK,IAAAK,kBAAA,CAAiDrB,SAAS,CAACsB,OAAO,CAA1DlB,gBAAgB,CAAAiB,kBAAA,CAAhBjB,gBAAgB,CAAEK,kBAAkB,CAAAY,kBAAA,CAAlBZ,kBAAkB,CAAuB,OAAAL,gBAAA,CAAAK,kBAAA,EAC1E,cAAe,CAAAT,SAAS,CAACuB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}