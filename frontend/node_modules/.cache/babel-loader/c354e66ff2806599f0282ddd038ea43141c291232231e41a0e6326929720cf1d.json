{"ast":null,"code":"import _regeneratorRuntime from\"/Users/ichidayu/globalChat/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/ichidayu/globalChat/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/ichidayu/globalChat/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{Nav,Navbar,Container,Button,NavDropdown}from\"react-bootstrap\";import{LinkContainer}from\"react-router-bootstrap\";import{useSelector}from\"react-redux\";import{useLogoutUserMutation}from\"../services/appApi\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Navigation=function Navigation(){var user=useSelector(function(state){return state.user;});var _useLogoutUserMutatio=useLogoutUserMutation(),_useLogoutUserMutatio2=_slicedToArray(_useLogoutUserMutatio,1),logoutUser=_useLogoutUserMutatio2[0];function handleLogout(_x){return _handleLogout.apply(this,arguments);}function _handleLogout(){_handleLogout=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return logoutUser(user);case 3:// redirect to home page\nwindow.location.replace(\"/\");case 4:case\"end\":return _context.stop();}},_callee);}));return _handleLogout.apply(this,arguments);}return/*#__PURE__*/_jsx(Navbar,{bg:\"light\",expand:\"lg\",children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(LinkContainer,{to:\"/\",children:/*#__PURE__*/_jsx(Navbar.Brand,{})}),/*#__PURE__*/_jsx(Navbar.Toggle,{\"aria-controls\":\"basic-navbar-nav\"}),/*#__PURE__*/_jsx(Navbar.Collapse,{id:\"basic-navbar-nav\",children:/*#__PURE__*/_jsxs(Nav,{className:\"ms-auto\",children:[!user&&/*#__PURE__*/_jsx(LinkContainer,{to:\"/login\",children:/*#__PURE__*/_jsx(Nav.Link,{children:\"Login\"})}),/*#__PURE__*/_jsx(LinkContainer,{to:\"/chat\",children:/*#__PURE__*/_jsx(Nav.Link,{children:\"Chat\"})}),user&&/*#__PURE__*/_jsxs(NavDropdown,{title:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"img\",{src:user.picture,style:{width:30,height:30,marginRight:10,objectFit:\"cover\",borderRadius:\"50%\"}}),user.name]}),id:\"basic-nav-dropdown\",children:[/*#__PURE__*/_jsx(NavDropdown.Item,{href:\"#action/3.1\",children:\"Action\"}),/*#__PURE__*/_jsx(NavDropdown.Item,{href:\"#action/3.2\",children:\"Another action\"}),/*#__PURE__*/_jsx(NavDropdown.Item,{href:\"#action/3.3\",children:\"Something\"}),/*#__PURE__*/_jsx(NavDropdown.Item,{children:/*#__PURE__*/_jsx(Button,{variant:\"danger\",onClick:handleLogout,children:\"Logout\"})})]})]})})]})});};export default Navigation;","map":{"version":3,"names":["React","Nav","Navbar","Container","Button","NavDropdown","LinkContainer","useSelector","useLogoutUserMutation","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Navigation","user","state","_useLogoutUserMutatio","_useLogoutUserMutatio2","_slicedToArray","logoutUser","handleLogout","_x","_handleLogout","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","wrap","_callee$","_context","prev","next","preventDefault","window","location","replace","stop","bg","expand","children","to","Brand","Toggle","Collapse","id","className","Link","title","src","picture","style","width","height","marginRight","objectFit","borderRadius","name","Item","href","variant","onClick"],"sources":["/Users/ichidayu/globalChat/frontend/src/components/Navigation.js"],"sourcesContent":["import React from \"react\";\nimport { Nav, Navbar, Container, Button, NavDropdown } from \"react-bootstrap\";\nimport { LinkContainer } from \"react-router-bootstrap\";\nimport { useSelector } from \"react-redux\";\nimport { useLogoutUserMutation } from \"../services/appApi\";\n\nconst Navigation = () => {\n    const user = useSelector((state) => state.user);\n    const [logoutUser] = useLogoutUserMutation();\n    async function handleLogout(e) {\n        e.preventDefault();\n        await logoutUser(user);\n        // redirect to home page\n        window.location.replace(\"/\");\n    }\n  return (\n    <Navbar bg=\"light\" expand=\"lg\">\n    <Container>\n        <LinkContainer to=\"/\">\n            <Navbar.Brand>\n                {/* <img src={logo} style={{ width: 50, height: 50 }} /> */}\n            </Navbar.Brand>\n        </LinkContainer>\n        <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n        <Navbar.Collapse id=\"basic-navbar-nav\">\n            <Nav className=\"ms-auto\">\n                {!user && (\n                    <LinkContainer to=\"/login\">\n                        <Nav.Link>Login</Nav.Link>\n                    </LinkContainer>\n                )}\n                <LinkContainer to=\"/chat\">\n                    <Nav.Link>Chat</Nav.Link>\n                </LinkContainer>\n                {user && (\n                            <NavDropdown\n                                title={\n                                    <>\n                                        <img src={user.picture} style={{ width: 30, height: 30, marginRight: 10, objectFit: \"cover\", borderRadius: \"50%\" }} />\n                                        {user.name}\n                                    </>\n                                }\n                                id=\"basic-nav-dropdown\"\n                            >\n                                <NavDropdown.Item href=\"#action/3.1\">Action</NavDropdown.Item>\n                                <NavDropdown.Item href=\"#action/3.2\">Another action</NavDropdown.Item>\n                                <NavDropdown.Item href=\"#action/3.3\">Something</NavDropdown.Item>\n\n                                <NavDropdown.Item>\n                                    <Button variant=\"danger\" \n                                    onClick={handleLogout}\n                                    >\n                                        Logout\n                                    </Button>\n                                </NavDropdown.Item>\n                            </NavDropdown>\n                         )}\n                    </Nav>\n                </Navbar.Collapse>\n            </Container>\n        </Navbar>\n  )\n}\n\nexport default Navigation\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}