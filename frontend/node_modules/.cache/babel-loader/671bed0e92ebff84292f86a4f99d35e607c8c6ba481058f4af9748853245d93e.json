{"ast":null,"code":"import _slicedToArray from\"/Users/ichidayu/globalChat/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useState}from\"react\";import{Col,Container,Form,Row,Button,Spinner}from\"react-bootstrap\";import{useLoginUserMutation}from\"../services/appApi\";import{Link,useNavigate}from\"react-router-dom\";import\"./Login.css\";import{AppContext}from\"../context/appContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var navigate=useNavigate();var _useContext=useContext(AppContext),socket=_useContext.socket;var _useLoginUserMutation=useLoginUserMutation(),_useLoginUserMutation2=_slicedToArray(_useLoginUserMutation,2),loginUser=_useLoginUserMutation2[0],_useLoginUserMutation3=_useLoginUserMutation2[1],isLoading=_useLoginUserMutation3.isLoading,error=_useLoginUserMutation3.error;function handleLogin(e){e.preventDefault();// login logic\nloginUser({email:email,password:password}).then(function(_ref){var data=_ref.data;if(data){console.log(data);// socket work\nsocket.emit(\"new-user\");// navigate to the chat\nnavigate(\"/chat\");}});}return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:5,className:\"login__bg\"}),/*#__PURE__*/_jsx(Col,{md:7,className:\"d-flex align-items-center justify-content-center flex-direction-column\",children:/*#__PURE__*/_jsxs(Form,{style:{width:\"80%\",maxWidth:500},onSubmit:handleLogin,children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasicEmail\",children:[error&&/*#__PURE__*/_jsx(\"p\",{className:\"alert alert-danger\",children:error.data}),/*#__PURE__*/_jsx(Form.Label,{children:\"Email address\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",placeholder:\"Enter email\",onChange:function onChange(e){return setEmail(e.target.value);},value:email,required:true}),/*#__PURE__*/_jsx(Form.Text,{className:\"text-muted\",children:\"We'll never share your email with anyone else.\"})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasicPassword\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",placeholder:\"Password\",onChange:function onChange(e){return setPassword(e.target.value);},value:password,required:true})]}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",children:isLoading?/*#__PURE__*/_jsx(Spinner,{animation:\"grow\"}):\"Login\"}),/*#__PURE__*/_jsx(\"div\",{className:\"py-4\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-center\",children:[\"Don't have an account ? \",/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:\"Signup\"})]})})]})})]})});};export default Login;","map":{"version":3,"names":["React","useContext","useState","Col","Container","Form","Row","Button","Spinner","useLoginUserMutation","Link","useNavigate","AppContext","jsx","_jsx","jsxs","_jsxs","Login","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","password","setPassword","navigate","_useContext","socket","_useLoginUserMutation","_useLoginUserMutation2","loginUser","_useLoginUserMutation3","isLoading","error","handleLogin","e","preventDefault","then","_ref","data","console","log","emit","children","md","className","style","width","maxWidth","onSubmit","Group","controlId","Label","Control","type","placeholder","onChange","target","value","required","Text","variant","animation","to"],"sources":["/Users/ichidayu/globalChat/frontend/src/pages/Login.js"],"sourcesContent":["import React, { useContext, useState } from \"react\";\nimport { Col, Container, Form, Row, Button, Spinner } from \"react-bootstrap\";\nimport { useLoginUserMutation } from \"../services/appApi\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport \"./Login.css\";\nimport { AppContext } from \"../context/appContext\";\n\n\nconst Login = () => {\n  const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const navigate = useNavigate();\n    const { socket } = useContext(AppContext);\n    const [loginUser, { isLoading, error }] = useLoginUserMutation();\n    function handleLogin(e) {\n        e.preventDefault();\n        // login logic\n        loginUser({ email, password }).then(({ data }) => {\n            if (data) {\n                console.log(data)\n                // socket work\n                socket.emit(\"new-user\");\n\n                // navigate to the chat\n                navigate(\"/chat\");\n            }\n        });\n    }\n  return (\n     <Container>\n            <Row>\n                <Col md={5} className=\"login__bg\"></Col>\n                <Col md={7} className=\"d-flex align-items-center justify-content-center flex-direction-column\">\n                    <Form style={{ width: \"80%\", maxWidth: 500 }} onSubmit={handleLogin}>\n                        <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\n                            {error && <p className=\"alert alert-danger\">{error.data}</p>}\n                            <Form.Label>Email address</Form.Label>\n                            <Form.Control type=\"email\" placeholder=\"Enter email\" onChange={(e) => setEmail(e.target.value)} value={email} required />\n                            <Form.Text className=\"text-muted\">We'll never share your email with anyone else.</Form.Text>\n                        </Form.Group>\n\n                        <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\n                            <Form.Label>Password</Form.Label>\n                            <Form.Control type=\"password\" placeholder=\"Password\" onChange={(e) => setPassword(e.target.value)} value={password} required />\n                        </Form.Group>\n                        <Button variant=\"primary\" type=\"submit\">\n                            {isLoading ? <Spinner animation=\"grow\" /> : \"Login\"}\n                        </Button>\n                        <div className=\"py-4\">\n                            <p className=\"text-center\">\n                                Don't have an account ? <Link to=\"/signup\">Signup</Link>\n                            </p>\n                        </div>\n                    </Form>\n                </Col>\n            </Row>\n        </Container>\n  )\n}\n\nexport default Login\n\n\n"],"mappings":"yHAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,CAAEC,QAAQ,KAAQ,OAAO,CACnD,OAASC,GAAG,CAAEC,SAAS,CAAEC,IAAI,CAAEC,GAAG,CAAEC,MAAM,CAAEC,OAAO,KAAQ,iBAAiB,CAC5E,OAASC,oBAAoB,KAAQ,oBAAoB,CACzD,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CACpD,MAAO,aAAa,CACpB,OAASC,UAAU,KAAQ,uBAAuB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAGnD,GAAM,CAAAC,KAAK,CAAG,QAAR,CAAAA,KAAKA,CAAA,CAAS,CAClB,IAAAC,SAAA,CAA0BhB,QAAQ,CAAC,EAAE,CAAC,CAAAiB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA/BG,KAAK,CAAAF,UAAA,IAAEG,QAAQ,CAAAH,UAAA,IACpB,IAAAI,UAAA,CAAgCrB,QAAQ,CAAC,EAAE,CAAC,CAAAsB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAArCE,QAAQ,CAAAD,UAAA,IAAEE,WAAW,CAAAF,UAAA,IAC5B,GAAM,CAAAG,QAAQ,CAAGhB,WAAW,CAAC,CAAC,CAC9B,IAAAiB,WAAA,CAAmB3B,UAAU,CAACW,UAAU,CAAC,CAAjCiB,MAAM,CAAAD,WAAA,CAANC,MAAM,CACd,IAAAC,qBAAA,CAA0CrB,oBAAoB,CAAC,CAAC,CAAAsB,sBAAA,CAAAX,cAAA,CAAAU,qBAAA,IAAzDE,SAAS,CAAAD,sBAAA,IAAAE,sBAAA,CAAAF,sBAAA,IAAIG,SAAS,CAAAD,sBAAA,CAATC,SAAS,CAAEC,KAAK,CAAAF,sBAAA,CAALE,KAAK,CACpC,QAAS,CAAAC,WAAWA,CAACC,CAAC,CAAE,CACpBA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB;AACAN,SAAS,CAAC,CAAEX,KAAK,CAALA,KAAK,CAAEI,QAAQ,CAARA,QAAS,CAAC,CAAC,CAACc,IAAI,CAAC,SAAAC,IAAA,CAAc,IAAX,CAAAC,IAAI,CAAAD,IAAA,CAAJC,IAAI,CACvC,GAAIA,IAAI,CAAE,CACNC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC,CACjB;AACAZ,MAAM,CAACe,IAAI,CAAC,UAAU,CAAC,CAEvB;AACAjB,QAAQ,CAAC,OAAO,CAAC,CACrB,CACJ,CAAC,CAAC,CACN,CACF,mBACGb,IAAA,CAACV,SAAS,EAAAyC,QAAA,cACH7B,KAAA,CAACV,GAAG,EAAAuC,QAAA,eACA/B,IAAA,CAACX,GAAG,EAAC2C,EAAE,CAAE,CAAE,CAACC,SAAS,CAAC,WAAW,CAAM,CAAC,cACxCjC,IAAA,CAACX,GAAG,EAAC2C,EAAE,CAAE,CAAE,CAACC,SAAS,CAAC,wEAAwE,CAAAF,QAAA,cAC1F7B,KAAA,CAACX,IAAI,EAAC2C,KAAK,CAAE,CAAEC,KAAK,CAAE,KAAK,CAAEC,QAAQ,CAAE,GAAI,CAAE,CAACC,QAAQ,CAAEf,WAAY,CAAAS,QAAA,eAChE7B,KAAA,CAACX,IAAI,CAAC+C,KAAK,EAACL,SAAS,CAAC,MAAM,CAACM,SAAS,CAAC,gBAAgB,CAAAR,QAAA,EAClDV,KAAK,eAAIrB,IAAA,MAAGiC,SAAS,CAAC,oBAAoB,CAAAF,QAAA,CAAEV,KAAK,CAACM,IAAI,CAAI,CAAC,cAC5D3B,IAAA,CAACT,IAAI,CAACiD,KAAK,EAAAT,QAAA,CAAC,eAAa,CAAY,CAAC,cACtC/B,IAAA,CAACT,IAAI,CAACkD,OAAO,EAACC,IAAI,CAAC,OAAO,CAACC,WAAW,CAAC,aAAa,CAACC,QAAQ,CAAE,SAAAA,SAACrB,CAAC,QAAK,CAAAf,QAAQ,CAACe,CAAC,CAACsB,MAAM,CAACC,KAAK,CAAC,EAAC,CAACA,KAAK,CAAEvC,KAAM,CAACwC,QAAQ,MAAE,CAAC,cACzH/C,IAAA,CAACT,IAAI,CAACyD,IAAI,EAACf,SAAS,CAAC,YAAY,CAAAF,QAAA,CAAC,gDAA8C,CAAW,CAAC,EACpF,CAAC,cAEb7B,KAAA,CAACX,IAAI,CAAC+C,KAAK,EAACL,SAAS,CAAC,MAAM,CAACM,SAAS,CAAC,mBAAmB,CAAAR,QAAA,eACtD/B,IAAA,CAACT,IAAI,CAACiD,KAAK,EAAAT,QAAA,CAAC,UAAQ,CAAY,CAAC,cACjC/B,IAAA,CAACT,IAAI,CAACkD,OAAO,EAACC,IAAI,CAAC,UAAU,CAACC,WAAW,CAAC,UAAU,CAACC,QAAQ,CAAE,SAAAA,SAACrB,CAAC,QAAK,CAAAX,WAAW,CAACW,CAAC,CAACsB,MAAM,CAACC,KAAK,CAAC,EAAC,CAACA,KAAK,CAAEnC,QAAS,CAACoC,QAAQ,MAAE,CAAC,EACvH,CAAC,cACb/C,IAAA,CAACP,MAAM,EAACwD,OAAO,CAAC,SAAS,CAACP,IAAI,CAAC,QAAQ,CAAAX,QAAA,CAClCX,SAAS,cAAGpB,IAAA,CAACN,OAAO,EAACwD,SAAS,CAAC,MAAM,CAAE,CAAC,CAAG,OAAO,CAC/C,CAAC,cACTlD,IAAA,QAAKiC,SAAS,CAAC,MAAM,CAAAF,QAAA,cACjB7B,KAAA,MAAG+B,SAAS,CAAC,aAAa,CAAAF,QAAA,EAAC,0BACC,cAAA/B,IAAA,CAACJ,IAAI,EAACuD,EAAE,CAAC,SAAS,CAAApB,QAAA,CAAC,QAAM,CAAM,CAAC,EACzD,CAAC,CACH,CAAC,EACJ,CAAC,CACN,CAAC,EACL,CAAC,CACC,CAAC,CAEpB,CAAC,CAED,cAAe,CAAA5B,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}